{"version":3,"sources":["webpack:///src/base/mv-list-show/mv-list-show.vue","webpack:///./src/base/mv-list-show/mv-list-show.vue?9224","webpack:///./src/base/mv-list-show/mv-list-show.vue","webpack:///src/components/mv/recommend-mv/recommend-mv.vue","webpack:///./src/components/mv/recommend-mv/recommend-mv.vue?1254","webpack:///./src/components/mv/recommend-mv/recommend-mv.vue"],"names":["mv_list_show","data","touch","touchStartTime","touchEndTime","currentDistance","totalDiff","checkedLoaded","props","mvList","type","Array","default","methods","ontouchStart","e","changedTouches","this","x1","pageX","ontouchMove","x2","diff","maxMoveDistance","el","currentTarget","translate","leftEl","ontouchEnd","Date","now","touchTime","transitionTimingFunction","transitionDuration","$emit","x","y","options","defaultOptions","useTransfrom","option","style","transform","transitionProperty","left","top","loadImage","checkLoaded","$refs","scroll","refresh","components","Scroll","scroll_scroll","Loading","loading","mv_list_show_mv_list_show","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","_l","mv","index","key","directives","name","rawName","value","expression","on","load","_v","_s","artistName","length","staticRenderFns","base_mv_list_show_mv_list_show","__webpack_require__","normalizeComponent","ssrContext","recommend_mv","topMV","created","_getTopMV","_this","then","res","code","config","MvListShow","recommend_mv_recommend_mv","recommend_mv_Component","recommend_mv_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/3.f1548ccaae307823704f.js","sourcesContent":["<template>\r\n  <div class=\"mv-list-show\">\r\n    <scroll class=\"mv-list-wrapper\" ref=\"scroll\" :data=\"mvList\">\r\n    <!-- @touchstart.prevent=\"ontouchStart($event)\" @touchmove.prevent=\"ontouchMove($event)\" @touchend=\"ontouchEnd($event)\" -->\r\n      <div class=\"mv-content\">\r\n        <ul>\r\n          <li class=\"item\" v-for=\"(mv, index) in mvList\" :key=\"index\">\r\n            <img v-lazy=\"mv.cover\" @load=\"loadImage\">\r\n            <div class=\"artist\">\r\n              <p class=\"mv-name\">{{ mv.name }}</p>\r\n              <p class=\"artist-name\">{{ mv.artistName }}</p>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"loading-container\" v-show=\"!mvList.length\">\r\n        <loading></loading>\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Scroll from 'base/scroll/scroll'\r\nimport Loading from 'base/loading/loading'\r\nexport default {\r\n  data () {\r\n    return {\r\n      touch: {}, // 保存着起始位置x1和变化的位置x2\r\n      touchStartTime: 0, // touch开始\r\n      touchEndTime: 0, // touch结束时间\r\n      currentDistance: 0, // 上一个touch事件完成后，已滑动距离。\r\n      totalDiff: 0, // 总滑动距离\r\n      checkedLoaded: false\r\n    }\r\n  },\r\n  props: {\r\n    mvList: {\r\n      type: Array,\r\n      default: function () {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ontouchStart (e) {\r\n      let touch = e.changedTouches[0]\r\n      this.touch.x1 = touch.pageX\r\n    },\r\n    ontouchMove (e) {\r\n      let touch = e.changedTouches[0]\r\n      this.touch.x2 = touch.pageX\r\n      let diff = this.touch.x2 - this.touch.x1\r\n      this.totalDiff = diff + this.currentDistance\r\n      if (this.totalDiff < 0) {\r\n        this.totalDiff = 0\r\n      } else if (this.totalDiff > this.maxMoveDistance) {\r\n        this.totalDiff = this.maxMoveDistance\r\n      }\r\n      let el = e.currentTarget\r\n      this.translate(el, this.totalDiff, 0)\r\n      this.translate(this.leftEl, this.totalDiff, 0)\r\n    },\r\n    ontouchEnd (e) {\r\n      let touch = e.changedTouches[0]\r\n      this.touch.x2 = touch.pageX\r\n      let diff = this.touch.x2 - this.touch.x1\r\n      this.touchEndTime = Date.now()\r\n      this.totalDiff = diff + this.currentDistance\r\n      this.currentDistance = this.totalDiff\r\n      let el = e.currentTarget\r\n      let touchTime = this.touchEndTime - this.touchStartTime\r\n      if (this.totalDiff > this.maxMoveDistance / 2 || (touchTime < 150 && this.totalDiff > this.maxMoveDistance / 10)) {\r\n        this.translate(el, this.maxMoveDistance, 0, {\r\n          transitionTimingFunction: 'linear',\r\n          transitionDuration: '.1s'\r\n        })\r\n        this.translate(this.leftEl, this.maxMoveDistance, 0, {\r\n          transitionTimingFunction: 'linear',\r\n          transitionDuration: '.1s'\r\n        })\r\n        this.$emit('dragedSlide')\r\n      } else {\r\n        this.totalDiff = this.currentDistance = 0\r\n        this.translate(el, this.totalDiff, 0)\r\n        this.translate(this.leftEl, this.totalDiff, 0)\r\n      }\r\n    },\r\n    translate (el, x, y, options) {\r\n      const defaultOptions = {\r\n        useTransfrom: true,\r\n        transitionTimingFunction: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\r\n        transitionDuration: '0s'\r\n      }\r\n      for (let option in options) {\r\n        defaultOptions[option] = options[option]\r\n      }\r\n      if (defaultOptions.useTransfrom) {\r\n        el.style.transform = `translate3d(${x}px, ${y}px, 0)`\r\n        el.style.transitionProperty = 'transform'\r\n        el.style.transitionTimingFunction = defaultOptions.transitionTimingFunction\r\n        el.style.transitionDuration = defaultOptions.transitionDuration\r\n      } else {\r\n        el.style.left = x\r\n        el.style.top = y\r\n      }\r\n    },\r\n    loadImage () {\r\n      if (!this.checkLoaded) {\r\n        this.$refs.scroll.refresh()\r\n        this.checkLoaded = true\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    Scroll,\r\n    Loading\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  .mv-list-show\r\n    position fixed\r\n    top 5.5rem\r\n    bottom 0\r\n    width 100%\r\n    .mv-list-wrapper\r\n      padding 0 1px\r\n      height 100%\r\n      overflow hidden\r\n      .mv-content\r\n        .item\r\n          height 200px\r\n          width 100%\r\n          img\r\n            width 100%\r\n            height 160px\r\n          .artist\r\n            height 30px\r\n            margin-top 2px\r\n            padding-left 5px\r\n            .mv-name\r\n              font-size 14px\r\n            .artist-name\r\n              font-size 12px\r\n              margin-top 3px\r\n              color #888\r\n      .loading-container\r\n        position absolute\r\n        width 100%\r\n        top 50%\r\n        transform translateY(-50%)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/mv-list-show/mv-list-show.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mv-list-show\"},[_c('scroll',{ref:\"scroll\",staticClass:\"mv-list-wrapper\",attrs:{\"data\":_vm.mvList}},[_c('div',{staticClass:\"mv-content\"},[_c('ul',_vm._l((_vm.mvList),function(mv,index){return _c('li',{key:index,staticClass:\"item\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(mv.cover),expression:\"mv.cover\"}],on:{\"load\":_vm.loadImage}}),_vm._v(\" \"),_c('div',{staticClass:\"artist\"},[_c('p',{staticClass:\"mv-name\"},[_vm._v(_vm._s(mv.name))]),_vm._v(\" \"),_c('p',{staticClass:\"artist-name\"},[_vm._v(_vm._s(mv.artistName))])])])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mvList.length),expression:\"!mvList.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47a9647b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/mv-list-show/mv-list-show.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47a9647b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mv-list-show.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mv-list-show.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mv-list-show.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47a9647b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./mv-list-show.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47a9647b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/mv-list-show/mv-list-show.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"recommend-mv\">\r\n    <mv-list-show :mvList=\"topMV\"></mv-list-show>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MvListShow from 'base/mv-list-show/mv-list-show'\r\nimport * as apiData from 'api/data'\r\nimport { CODE_OK } from 'common/js/config'\r\nexport default {\r\n  data () {\r\n    return {\r\n      topMV: []\r\n    }\r\n  },\r\n  created () {\r\n    this._getTopMV()\r\n  },\r\n  methods: {\r\n    _getTopMV () {\r\n      apiData.getTopMV(100).then(res => {\r\n        if (res.data.code === CODE_OK) {\r\n          this.topMV = res.data.data\r\n        }\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    MvListShow\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  .recommend-mv\r\n    position absolute\r\n    top 0\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/mv/recommend-mv/recommend-mv.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recommend-mv\"},[_c('mv-list-show',{attrs:{\"mvList\":_vm.topMV}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bc4f9830\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/mv/recommend-mv/recommend-mv.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bc4f9830\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recommend-mv.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend-mv.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend-mv.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc4f9830\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./recommend-mv.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bc4f9830\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/mv/recommend-mv/recommend-mv.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}