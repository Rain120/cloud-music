{"version":3,"sources":["webpack:///src/base/slider/slider.vue","webpack:///./src/base/slider/slider.vue?0e01","webpack:///./src/base/slider/slider.vue","webpack:///src/components/recommend/recommend.vue","webpack:///./src/components/recommend/recommend.vue?0cf7","webpack:///./src/components/recommend/recommend.vue"],"names":["slider","props","loop","type","Boolean","default","autoPlay","interval","Number","data","dots","currentPageIndex","mounted","_this","this","setTimeout","_setSliderWidth","_initScroll","_initDots","_play","activated","_this2","enable","index","getCurrentPage","pageX","goToPage","window","addEventListener","enabled","resizeTimer","isInTransition","_changePageIndex","refreshSlider","methods","refresh","resize","children","$refs","sliderGroup","width","sliderWidth","clientWidth","i","length","Object","dom","style","height","bscroll_esm","scrollX","scrollY","momentum","snap","threshold","speed","on","Array","_this3","clearTimeout","timer","next","deactivated","disable","destroyed","slider_slider","render","_vm","_h","$createElement","_c","_self","ref","staticClass","_t","_v","_l","item","key","class","active","staticRenderFns","base_slider_slider","__webpack_require__","normalizeComponent","ssrContext","recommend","mixins","mixin","banners","recommendMusicLists","recommendMusicList","recommendNewSong","recommendDjProgram","songListDesc","created","_getBanner","_getMusicList","_getNewSong","_getDjProgram","then","res","computed","extends_default","vuex_esm","handlePlaylist","playList","bottom","scroll","showRank","$router","push","name","params","title","showAllSongLists","showSongList","song","query","id","showNewSong","console","log","showAllNewSong","showAllBroadcast","listenCount","playCount","Math","pow","toFixed","slice","parseInt","code","config","result","forEach","_this4","components","Slider","Scroll","scroll_scroll","Loading","loading","recommend_recommend","attrs","banner","href","url","src","picUrl","_e","_s","Date","getDate","click","$event","directives","rawName","value","expression","album","to","recommend_Component","recommend_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.d7ae9d9120369849d91f.js","sourcesContent":["<template>\r\n  <div class=\"slider\" ref=\"slider\">\r\n    <div class=\"slider-group\" ref=\"sliderGroup\">\r\n      <slot></slot>\r\n    </div>\r\n    <div class=\"dots\">\r\n      <span class=\"dot\" v-for=\"(item, index) in dots\" :key=\"index\" :class=\"{active: currentPageIndex === index}\"></span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport BScroll from 'better-scroll'\r\nimport { addClass } from 'common/js/dom'\r\nexport default {\r\n  props: {\r\n    loop: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    autoPlay: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    interval: {\r\n      type: Number,\r\n      default: 4000\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      dots: [],\r\n      currentPageIndex: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    setTimeout(() => {\r\n      this._setSliderWidth()\r\n      this._initScroll()\r\n      this._initDots()\r\n      if (this.autoPlay) {\r\n        this._play()\r\n      }\r\n    }, 20)\r\n  },\r\n  activated () {\r\n    this.slider.enable()\r\n    let index = this.slider.getCurrentPage().pageX\r\n    this.currentPageIndex = index\r\n    this.slider.goToPage(index, 0, 400)\r\n    if (this.autoPlay) {\r\n      this._play()\r\n    }\r\n    window.addEventListener('resize', () => {\r\n      if (!this.slider || !this.slider.enabled) {\r\n        return\r\n      }\r\n      this.resizeTimer = setTimeout(() => {\r\n        if (this.slider.isInTransition) {\r\n          this._changePageIndex()\r\n        } else {\r\n          if (this.autoPlay) {\r\n            this._play()\r\n          }\r\n        }\r\n        this.refreshSlider()\r\n      }, 60)\r\n    })\r\n  },\r\n  methods: {\r\n    refreshSlider () {\r\n      this._setSliderWidth(true)\r\n      this.slider.refresh()\r\n    },\r\n    _setSliderWidth (resize) {\r\n      this.children = this.$refs.sliderGroup.children\r\n      let width = 0\r\n      let sliderWidth = this.$refs.slider.clientWidth\r\n      for (let i = 0; i < this.children.length; i++) {\r\n        let children = this.children[i]\r\n        addClass(children, 'slider-item')\r\n        width += sliderWidth\r\n        children.style.width = `${sliderWidth}px`\r\n        children.style.height = `${sliderWidth * 0.5}px`\r\n      }\r\n      if (this.loop && !resize) {\r\n        width += 2 * sliderWidth\r\n      }\r\n      this.$refs.sliderGroup.style.width = `${width}px`\r\n    },\r\n    _initScroll () {\r\n      this.slider = new BScroll(this.$refs.slider, {\r\n        scrollX: true,\r\n        scrollY: false,\r\n        momentum: false,\r\n        snap: {\r\n          loop: this.loop,\r\n          threshold: 0.3,\r\n          speed: 400\r\n        }\r\n      })\r\n      this.slider.on('scrollEnd', this._changePageIndex)\r\n    },\r\n    _initDots () {\r\n      this.dots = new Array(this.children.length - 2)\r\n    },\r\n    _changePageIndex () {\r\n      this.currentPageIndex = this.slider.getCurrentPage().pageX\r\n      if (this.autoPlay) {\r\n        this._play()\r\n      }\r\n    },\r\n    _play () {\r\n      clearTimeout(this.timer)\r\n      if (this.autoPlay) {\r\n        this.timer = setTimeout(() => {\r\n          this.slider.next()\r\n        }, this.interval)\r\n      }\r\n    }\r\n  },\r\n  deactivated () {\r\n    this.slider.disable()\r\n    clearTimeout(this.timer)\r\n  },\r\n  destroyed () {\r\n    this.slider.disable()\r\n    clearTimeout(this.timer)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n .slider\r\n    width 100%\r\n    height 160px\r\n    position relative\r\n    .slider-group\r\n      overflow hidden\r\n      white-space nowrap\r\n      .slider-item\r\n        float left\r\n        box-sizing border-box\r\n        text-align center\r\n        overflow hidden\r\n        img\r\n          display block\r\n          width 100%\r\n          height 160px\r\n    .dots\r\n      position absolute\r\n      right 0\r\n      left 0\r\n      bottom 12px\r\n      text-align center\r\n      font-size 0\r\n      .dot\r\n        display inline-block\r\n        margin 0 4px\r\n        width 8px\r\n        height 8px\r\n        border-radius 50%\r\n        background rgba(255, 255, 255, .5)\r\n        &.active\r\n          width 20px\r\n          border-radius 5px\r\n          background rgba(255, 255, 255, .8)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/slider/slider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{key:index,staticClass:\"dot\",class:{active: _vm.currentPageIndex === index}})}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2997c44f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/slider/slider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2997c44f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./slider.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./slider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./slider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2997c44f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./slider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2997c44f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/slider/slider.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"recommend\" ref=\"recommend\">\r\n    <scroll\r\n      class=\"recommend-wrapper\"\r\n      ref=\"scroll\"\r\n      :data=\"recommendMusicLists\">\r\n      <div>\r\n        <div class=\"sliders\">\r\n          <div class=\"slider-wrapper\" v-if=\"banners.length > 0\">\r\n            <slider>\r\n              <div v-for=\"(banner, index) in banners\" :key=\"index\">\r\n                <a :href=\"banner.url\">\r\n                  <img class=\"needsclick\" :src=\"banner.picUrl\" />\r\n                </a>\r\n              </div>\r\n            </slider>\r\n          </div>\r\n        </div>\r\n        <div class=\"tabs\">\r\n          <div class=\"tab\">\r\n            <div class=\"icon-wrapper\">\r\n              <i class=\"icon iconfont music-broadcast\"></i>\r\n            </div>\r\n            <p class=\"description\">私人FM</p>\r\n          </div>\r\n          <div class=\"tab\">\r\n            <div class=\"icon-wrapper\">\r\n              <i class=\"icon iconfont music-calendar\"></i>\r\n              <p class=\"date\">{{ (new Date()).getDate() }}</p>\r\n            </div>\r\n            <p class=\"description\">每日推荐</p>\r\n          </div>\r\n          <div class=\"tab\" @click=\"showAllSongLists\">\r\n            <div class=\"icon-wrapper\">\r\n              <i class=\"icon iconfont music-songs\"></i>\r\n            </div>\r\n            <p class=\"description\">歌单</p>\r\n          </div>\r\n          <div class=\"tab\" @click=\"showRank\">\r\n            <div class=\"icon-wrapper\">\r\n              <i class=\"icon iconfont music-rank\"></i>\r\n            </div>\r\n            <p class=\"description\">排行榜</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"recommend-music-list common\">\r\n          <div class=\"title\" @click=\"showAllSongLists\">推荐歌单<i class=\"icon iconfont music-arrow-right\"></i></div>\r\n            <div class=\"list-content common-content\">\r\n              <ul>\r\n                <li @click=\"showSongList(item)\" v-for=\"(item, index) in recommendMusicList\" :key=\"index\">\r\n                  <img v-lazy=\"item.picUrl\">\r\n                  <div class=\"list-play-count\">\r\n                    <i class=\"icon iconfont music-volume\"></i>&nbsp;<span>{{listenCount(item.playCount)}}</span>\r\n                  </div>\r\n                  <p class=\"name\">{{ item.name }}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"recommend-new-music common\">\r\n          <div class=\"title\" @click=\"showAllNewSong\">最新音乐<i class=\"icon iconfont music-arrow-right\"></i></div>\r\n          <div class=\"new-song-content common-content\">\r\n              <ul>\r\n                <li  @click=\"showNewSong(song)\" v-for=\"(song, index) in recommendNewSong\" :key=\"index\">\r\n                  <img v-lazy=\"song.album.picUrl\">\r\n                  <p class=\"name\">{{ song.name }}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"recommend-dj-program common\">\r\n          <router-link to=\"/index/broadcast\">\r\n            <div class=\"title\" @click=\"showAllBroadcast\">主播电台<i class=\"icon iconfont music-arrow-right\"></i></div>\r\n          </router-link>\r\n          <div class=\"dj-program-content common-content\">\r\n              <ul>\r\n                <li v-for=\"(item, index) in recommendDjProgram\" :key=\"index\">\r\n                  <img v-lazy=\"item.picUrl\">\r\n                  <p class=\"name\">{{ item.name }}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </scroll>\r\n    <div class=\"loading-container\" v-show=\"!recommendMusicLists.length\">\r\n      <loading></loading>\r\n    </div>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Slider from 'base/slider/slider'\r\nimport Scroll from 'base/scroll/scroll'\r\nimport Loading from 'base/loading/loading'\r\nimport { mapGetters } from 'vuex'\r\nimport { playlistMixin } from 'common/js/mixin'\r\nimport * as apiData from 'api/data'\r\nimport { CODE_OK } from 'common/js/config'\r\n// import { shuffle } from 'common/js/util'\r\n\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  data () {\r\n    return {\r\n      banners: [],\r\n      recommendMusicLists: [],\r\n      recommendMusicList: [],\r\n      recommendNewSong: [],\r\n      recommendDjProgram: [],\r\n      songListDesc: []\r\n    }\r\n  },\r\n  created () {\r\n    this._getBanner()\r\n    this._getMusicList()\r\n    this._getNewSong()\r\n    this._getDjProgram()\r\n    apiData.getNewAlbum().then(res => {\r\n      // console.log('getNewAlbum', res)\r\n    })\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'currentRefreshTime'\r\n    ])\r\n  },\r\n  methods: {\r\n    handlePlaylist (playList) {\r\n      const bottom = playList.length > 0 ? '60px' : ''\r\n      this.$refs.recommend.style.bottom = bottom\r\n      this.$refs.scroll.refresh()\r\n    },\r\n    showRank () {\r\n      this.$router.push({\r\n        name: 'Ranks',\r\n        params: {\r\n          title: '排行榜'\r\n        }\r\n      })\r\n    },\r\n    showAllSongLists () {\r\n      this.$router.push({\r\n        name: 'AllSongLists',\r\n        params: {\r\n          title: '歌单'\r\n        }\r\n      })\r\n    },\r\n    showSongList (song) {\r\n      this.$router.push({\r\n        name: 'MusicList',\r\n        params: {\r\n          title: '歌单'\r\n        },\r\n        query: {\r\n          id: song.id\r\n        }\r\n      })\r\n    },\r\n    showNewSong (song) {\r\n      console.log(song)\r\n      this.$router.push({\r\n        name: 'NewSong',\r\n        params: {\r\n          title: '专辑'\r\n        },\r\n        query: {\r\n          id: song.id\r\n        }\r\n      })\r\n    },\r\n    showAllNewSong () {\r\n      console.log('showAllNewSong')\r\n    },\r\n    showAllBroadcast () {\r\n      this.$router.push({\r\n        name: 'Broadcast'\r\n      })\r\n    },\r\n    listenCount (playCount) {\r\n      if (playCount > Math.pow(10, 8)) {\r\n        return `${(playCount / Math.pow(10, 8)).toFixed(2).slice(0, -1)}亿`\r\n      } else if (playCount > 100000) {\r\n        return `${(playCount / Math.pow(10, 4)).toFixed(2).slice(0, -1)}万`\r\n      } else {\r\n        return `${parseInt(playCount)}`\r\n      }\r\n    },\r\n    _getBanner () {\r\n      apiData.getBanner().then(res => {\r\n        if (res.data.code === CODE_OK) {\r\n          this.banners = res.data.banners\r\n        }\r\n      })\r\n    },\r\n    _getMusicList () {\r\n      apiData.getMusicList().then(res => {\r\n        this.recommendMusicLists = res\r\n        this.recommendMusicList = res.slice(0, 6)\r\n      })\r\n    },\r\n    _getNewSong () {\r\n      apiData.getNewSong().then(res => {\r\n        if (res.data.code === CODE_OK) {\r\n          res.data.result.slice(0, 6).forEach(item => {\r\n            this.recommendNewSong.push(item.song)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    _getDjProgram () {\r\n      apiData.getDjProgram().then(res => {\r\n        if (res.data.code === CODE_OK) {\r\n          this.recommendDjProgram = res.data.result\r\n        }\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    Slider,\r\n    Scroll,\r\n    Loading\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  @import \"~common/stylus/mixin\"\r\n\r\n  .recommend\r\n    position fixed\r\n    top 5.5rem\r\n    bottom 0\r\n    width 100%\r\n    .recommend-wrapper\r\n      height 100%\r\n      overflow hidden\r\n      .tabs\r\n        height 5rem\r\n        padding-top .3rem\r\n        display flex\r\n        border-thin(#a0a0a0)\r\n        .tab\r\n          width 25%\r\n          text-align center\r\n          .icon-wrapper\r\n            width 2.5rem\r\n            height 2.5rem\r\n            margin 0.5rem auto\r\n            border-radius 50%\r\n            border 1.5px solid #d33a31\r\n            position relative\r\n            .date\r\n              position absolute\r\n              top 15px\r\n              left 0px\r\n              right 0\r\n              bottom 0\r\n              text-align center\r\n              color #d33a31\r\n              font-size 16px\r\n            .icon\r\n              font-size 27px\r\n              line-height 2.5rem\r\n              color #d33a31\r\n          .description\r\n            color #303131\r\n            font-size 13px\r\n\r\n      .common\r\n        margin-bottom 0.6rem\r\n        .title\r\n          height 30px\r\n          line-height 30px\r\n          font-size 18px\r\n          font-weight 600\r\n          text-indent 5px\r\n          margin 10px 0 10px 5px\r\n          color #303131\r\n          &.icon\r\n            color #919293\r\n        .common-content\r\n          height 100%\r\n          width 100%\r\n          overflow hidden\r\n          ul\r\n            display grid\r\n            grid-template-columns repeat(3, 1fr)\r\n            li\r\n              margin-bottom 0.5rem\r\n              box-sizing border-box\r\n              position relative\r\n              img\r\n                height 137px\r\n                width 100%\r\n                border-radius 3px\r\n              .name\r\n                line-height 20px\r\n                font-size 14px\r\n                no-wrap-nums(2)\r\n            li:nth-child(3n+2)\r\n              padding 0 1.5px\r\n            li:nth-child(3n+1)\r\n              padding-left 3px\r\n            li:nth-child(3n)\r\n              padding-right 3px\r\n\r\n      .recommend-music-list\r\n        .list-content\r\n          ul\r\n            li\r\n              .list-play-count\r\n                text-align center\r\n                color #fff\r\n                position absolute\r\n                top 5px\r\n                right 6px\r\n                & > span, & > i\r\n                  font-size 14px\r\n  .loading-container\r\n    position absolute\r\n    width 100%\r\n    top 50%\r\n    transform translateY(-50%)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/recommend/recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recommend\",staticClass:\"recommend\"},[_c('scroll',{ref:\"scroll\",staticClass:\"recommend-wrapper\",attrs:{\"data\":_vm.recommendMusicLists}},[_c('div',[_c('div',{staticClass:\"sliders\"},[(_vm.banners.length > 0)?_c('div',{staticClass:\"slider-wrapper\"},[_c('slider',_vm._l((_vm.banners),function(banner,index){return _c('div',{key:index},[_c('a',{attrs:{\"href\":banner.url}},[_c('img',{staticClass:\"needsclick\",attrs:{\"src\":banner.picUrl}})])])}))],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tabs\"},[_c('div',{staticClass:\"tab\"},[_c('div',{staticClass:\"icon-wrapper\"},[_c('i',{staticClass:\"icon iconfont music-broadcast\"})]),_vm._v(\" \"),_c('p',{staticClass:\"description\"},[_vm._v(\"私人FM\")])]),_vm._v(\" \"),_c('div',{staticClass:\"tab\"},[_c('div',{staticClass:\"icon-wrapper\"},[_c('i',{staticClass:\"icon iconfont music-calendar\"}),_vm._v(\" \"),_c('p',{staticClass:\"date\"},[_vm._v(_vm._s((new Date()).getDate()))])]),_vm._v(\" \"),_c('p',{staticClass:\"description\"},[_vm._v(\"每日推荐\")])]),_vm._v(\" \"),_c('div',{staticClass:\"tab\",on:{\"click\":_vm.showAllSongLists}},[_c('div',{staticClass:\"icon-wrapper\"},[_c('i',{staticClass:\"icon iconfont music-songs\"})]),_vm._v(\" \"),_c('p',{staticClass:\"description\"},[_vm._v(\"歌单\")])]),_vm._v(\" \"),_c('div',{staticClass:\"tab\",on:{\"click\":_vm.showRank}},[_c('div',{staticClass:\"icon-wrapper\"},[_c('i',{staticClass:\"icon iconfont music-rank\"})]),_vm._v(\" \"),_c('p',{staticClass:\"description\"},[_vm._v(\"排行榜\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"recommend-music-list common\"},[_c('div',{staticClass:\"title\",on:{\"click\":_vm.showAllSongLists}},[_vm._v(\"推荐歌单\"),_c('i',{staticClass:\"icon iconfont music-arrow-right\"})]),_vm._v(\" \"),_c('div',{staticClass:\"list-content common-content\"},[_c('ul',_vm._l((_vm.recommendMusicList),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){_vm.showSongList(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}]}),_vm._v(\" \"),_c('div',{staticClass:\"list-play-count\"},[_c('i',{staticClass:\"icon iconfont music-volume\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.listenCount(item.playCount)))])]),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}))])]),_vm._v(\" \"),_c('div',{staticClass:\"recommend-new-music common\"},[_c('div',{staticClass:\"title\",on:{\"click\":_vm.showAllNewSong}},[_vm._v(\"最新音乐\"),_c('i',{staticClass:\"icon iconfont music-arrow-right\"})]),_vm._v(\" \"),_c('div',{staticClass:\"new-song-content common-content\"},[_c('ul',_vm._l((_vm.recommendNewSong),function(song,index){return _c('li',{key:index,on:{\"click\":function($event){_vm.showNewSong(song)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(song.album.picUrl),expression:\"song.album.picUrl\"}]}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(song.name))])])}))])]),_vm._v(\" \"),_c('div',{staticClass:\"recommend-dj-program common\"},[_c('router-link',{attrs:{\"to\":\"/index/broadcast\"}},[_c('div',{staticClass:\"title\",on:{\"click\":_vm.showAllBroadcast}},[_vm._v(\"主播电台\"),_c('i',{staticClass:\"icon iconfont music-arrow-right\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"dj-program-content common-content\"},[_c('ul',_vm._l((_vm.recommendDjProgram),function(item,index){return _c('li',{key:index},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}]}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}))])],1)])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.recommendMusicLists.length),expression:\"!recommendMusicLists.length\"}],staticClass:\"loading-container\"},[_c('loading')],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-501c33bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-501c33bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-501c33bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-501c33bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}