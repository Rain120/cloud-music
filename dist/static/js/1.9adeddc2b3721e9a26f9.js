webpackJsonp([1],{P2Q4:function(s,t){},RrHo:function(s,t){},ZV4u:function(s,t,i){"use strict";var a=i("qwAB"),e=i("y/jF"),n={mixins:[i("F4+m").a],created:function(){this.probeType=3,this.listenScroll=!0},mounted:function(){var s=this;this.$nextTick(function(){s.$refs.scroll.refresh()})},props:{songs:{type:Object,default:function(){return{}}},listType:{type:String,default:""},collectShow:{type:Boolean,default:!1}},methods:{handlePlaylist:function(s){var t=s.length>0?"60px":"";this.$refs.songList.style.bottom=t,this.$refs.scroll.refresh()},songArtist:function(s,t){return s+" - "+t},scrollPos:function(s){var t=!1;t=s.y<-240,this.$emit("changeTitle",t)},palyAll:function(){this.$emit("playAll")},selectItem:function(s,t){this.$emit("select",s,t)},playNums:function(){return"播放全部(共"+this.songs.data.length+")首"},collectNum:function(){return this.collectNums<=Math.pow(10,5)?" + 收藏("+this.songs.collectNums+")":" + 收藏("+(this.songs.collectNums/Math.pow(10,4)).toFixed(1)+"万)"}},components:{Scroll:a.a,Loading:e.a}},o={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{ref:"songList",staticClass:"song-list"},[i("scroll",{ref:"scroll",staticClass:"scroll-wrapper",attrs:{probeType:s.probeType,"listen-scroll":s.listenScroll,data:s.songs.data},on:{scroll:s.scrollPos}},[i("div",[s._t("header"),s._v(" "),i("div",{staticClass:"songs"},[i("div",{staticClass:"operate"},[i("div",{staticClass:"play"},[i("div",{staticClass:"play-btn",on:{click:s.palyAll}},[i("i",{staticClass:"icon iconfont music-play"})]),s._v(" "),i("span",{staticClass:"songs-num"},[s._v(s._s(s.playNums()))])]),s._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:s.collectShow,expression:"collectShow"}],staticClass:"collect"},[s._v(s._s(s.collectNum()))])]),s._v(" "),i("ul",s._l(s.songs.data,function(t,a){return i("li",{key:a,staticClass:"song-desc",on:{click:function(i){s.selectItem(t,a)}}},[i("div",{staticClass:"song-item"},[i("div",{staticClass:"order"},[s._v(s._s(a+1))]),s._v(" "),i("div",{staticClass:"song"},[i("div",{staticClass:"desc"},[i("p",{staticClass:"song-name"},[s._v(s._s(t.name))]),s._v(" "),i("p",{staticClass:"info"},[s._v("\n                    "+s._s(s.songArtist(t.singer,t.album))+"\n                    ")])])])])])}))])],2)]),s._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!s.songs.data.length,expression:"!songs.data.length"}],staticClass:"loading-container"},[i("loading")],1)],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(s){i("P2Q4")},"data-v-01b90823",null);t.a=l.exports},kvay:function(s,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("woOf"),e=i.n(a),n=i("Dd8w"),o=i.n(n),l=i("2+wy"),c=i("ZV4u"),r=i("Foau"),d=i("W/7t"),u=i("Zrlr"),v=i.n(u),m=function s(t){var i=t.id,a=t.singer,e=t.name,n=t.album,o=t.picUrl,l=t.playUrl,c=t.dt;v()(this,s),this.id=i,this.singer=a,this.name=e,this.album=n,this.picUrl=o,this.playUrl=l,this.dt=c};var g=i("9rMa"),h={data:function(){return{songList:{},songListDesc:{},currentListTitle:"",title:this.$route.params.title,description:"编辑推荐：",descShow:!0,collectShow:!0}},mounted:function(){var s=this;this.$nextTick(function(){s._getSongListDesc()})},methods:o()({playSong:function(s,t){this.selectPlay({song:this.songListDesc.data,index:t})},playAll:function(){this.randomPlay({songs:this.songListDesc.data})},changeTitle:function(s){this.title=s?this.currentListTitle:this.$route.params.title},_normalizeSongs:function(s){var t=[];return s.map(function(s,i){var a;t.push(e()(new m({id:(a=s).id,singer:a.ar[0].name,name:a.name,album:a.al.name,picUrl:a.al.picUrl,playUrl:"http://music.163.com/song/media/outer/url?id="+a.id+".mp3",dt:a.dt}),s))}),t},_getSongListDesc:function(){var s=this;r.j(this.$route.query.id).then(function(t){t.data.code===d.a&&(s.songList=t.data.playlist,s.currentListTitle=s.songList.name,s.description+=s.songList.description,s.songListDesc.data=s._normalizeSongs(s.songList.tracks),s.songListDesc.collectNums=s.songList.subscribedCount)})}},Object(g.b)(["selectPlay","randomPlay"])),components:{BackHeader:l.a,SongList:c.a}},p={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("transition",{attrs:{name:"slide"}},[i("div",{staticClass:"music-list"},[i("back-header",{attrs:{title:s.title,description:s.description,descShow:s.descShow}}),s._v(" "),i("song-list",{ref:"songList",attrs:{songs:s.songListDesc,listType:this.$route.params.title,title:this.$route.params.title,collectShow:s.collectShow},on:{select:s.playSong,playAll:s.playAll,changeTitle:s.changeTitle}},[i("div",{staticClass:"header-slot",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"song-list-header"},[i("div",{staticClass:"songinfo"},[i("div",{staticClass:"list-img"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.songList.coverImgUrl,expression:"songList.coverImgUrl"}]})]),s._v(" "),i("div",{staticClass:"list-desc"},[i("div",{staticClass:"list-name"},[s._v(s._s(s.songList.name))]),s._v(" "),i("div",{staticClass:"list-info"},[s.songList.creator?i("div",{staticClass:"song-list-user"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.songList.creator.avatarUrl,expression:"songList.creator.avatarUrl"}],staticClass:"avatar"}),s._v(" "),i("span",{staticClass:"nickname"},[s._v(s._s(s.songList.creator.nickname))]),s._v(" "),i("i",{staticClass:"icon iconfont music-arrow-right"})]):s._e()])])]),s._v(" "),i("div",{staticClass:"features"},[i("div",{staticClass:"commment-icon"},[i("i",{staticClass:"icon iconfont music-message"}),s._v(" "),i("p",[s._v(s._s(s.songList.commentCount))])]),s._v(" "),i("div",{staticClass:"share-icon"},[i("i",{staticClass:"icon iconfont music-share"}),s._v(" "),i("p",[s._v(s._s(s.songList.shareCount))])]),s._v(" "),i("div",{staticClass:"download-icon"},[i("i",{staticClass:"icon iconfont music-download"}),s._v(" "),i("p",[s._v("下载")])]),s._v(" "),i("div",{staticClass:"checkmore-icon"},[i("i",{staticClass:"icon iconfont music-volume"}),s._v(" "),i("p",[s._v("多选")])])])])])])],1)])},staticRenderFns:[]};var f=i("VU/8")(h,p,!1,function(s){i("RrHo")},"data-v-f55048d2",null);t.default=f.exports}});
//# sourceMappingURL=1.9adeddc2b3721e9a26f9.js.map